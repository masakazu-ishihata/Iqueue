# Ruby で Q !

Ruby の Array さんは要素数が増えると push が死ぬほど遅くなる。  
快適な push life のため、自作で双方向 queue を作りました。  

## 使い方
こんな感じで使えばよいと思う。

    q = Iqueue.new(10){|i| i}

    p q.to_a # => [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

    q.push(10)
    q.shift

    p q.to_a # => [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

対応してるメソッドは以下。詳しくは q.methods で。

    shift / unshift
    pop / push
    deq / enq
    each / map
    to_a

Array と速度を比較すると以下みたいな感じ(test.rb)。  
１行目が配列の shift / push 時間で、２行目が Iqueue の shift / push 時間。
以降、サイズを 10 倍にしている。  

    1         10 1.27030e-03 1.46849e-03
    1         10 2.08589e-03 2.90583e-03
    2        100 5.83728e-04 9.11499e-04
    2        100 8.94696e-04 1.32415e-03
    3       1000 4.65623e-04 3.09828e-03
    3       1000 1.00317e-03 1.41959e-03
    4      10000 5.15161e-04 2.16404e-02
    4      10000 8.77294e-04 1.26358e-03
    5     100000 8.53373e-04 1.08756e+00
    5     100000 9.03909e-04 1.17472e-03
